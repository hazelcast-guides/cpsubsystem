////
Make sure to rename this file to the name of your repository and add the filename to the README. This filename must not conflict with any existing tutorials.
////

// Describe the title of your article by replacing 'Tutorial template' with the page name you want to publish.
= CP Subsystem and CPMap Tutorial
// Add required variables
:page-layout: tutorial
:page-product: // platform
:page-categories: // Enterprise 
:page-lang: java 
:page-enterprise: // true
:page-est-time: // 10 mins
:description: // In this tutorial, you will examine the operations of a CP-enabled Hazelcast Platform cluster, then work with the CPMap data structure using the Hazelcast CLC.

{description}

// Give some context about the use case for this tutorial. What will the reader learn?
== Context

The Hazelcast CP Subsystem adds the capability of true consistency to the primarily AP Hazelcast Platform. When the CP Subsystem is enabled, application developers have access to CPMap, a key-value store similar in function to IMap that provides consistency guarantees. The CP Subsystem also supports Java concurrency primitives, guaranteeing atomic operations of these data structures. 

// Optional: What does the reader need before starting this tutorial? Think about tools or knowledge. Delete this section if your readers can dive straight into the lesson without requiring any prerequisite knowledge.
== Before you Begin

Before starting this tutorial, make sure that you have installed the following:

* https://www.docker.com/[Docker]
* https://docs.hazelcast.com/clc/latest/overview[Hazelcast Command Line Client (CLC)]
* https://www.oracle.com/java/technologies/downloads/[JDK 17 or later]
* https://www.docker.com/products/docker-desktop/[Docker Desktop]
* Your preferred Java IDE

== Step 1. Examine the CP Subsystem

In this section, you'll launch a three-node Hazelcast cluster and Management Center using Docker. You'll verify that the CP Subsystem is up and ready for data.

. Download the repository from https://github.com/hazelcast-guides/cpsubsystem[GitHub].

. Run the following commands to start a Hazelcast cluster
```cli
docker compose up -d
docker compose ps
```
You should see four services up and running: three instances of Hazelcast, and one instance of Management Center. 
+
image::docker_compose_ps1.png[]

. Open a web browser and connect to *localhost:8080*. This will open Management Center. Select Dev Mode to open the main dashboard. You should see that the CP Subsystem is available. 
+
image::mc_main_dashboard.png[]

. From the left side menu, go to *CP Subsystem > Dashboard*. This is where you can perform CP Subsystem management.
+
[NOTE]
The CP Subsystem requires manual intervention while expanding or shrinking its size, or when a CP member crashes or becomes unreachable. When a CP member becomes unreachable, it is not automatically removed from CP Subsystem because it could still be active and partitioned away.
+
. In the terminal window, list the cluster members. Select one to pause via Docker. Observe the change in status in the dashboard.




== Step 2. <Step Title>

////
Continue the design approach you chose in the previous part and continue it through to the end of the tutorial.
////

== Summary

////
Summarise what knowledge the reader has gained by completing the tutorial, including a summary of each step's goals (this is a good way to validate whether your tutorial has covered all you need it to.)
////


== See Also

// Optionally, add some links to resources, such as other related guides.

* Hazelcast Training: https://training.hazelcast.com/cp-subsystem[The CP Subsystem]
* https://docs.hazelcast.com/hazelcast/latest/cp-subsystem/cp-subsystem[CP Subsystem Overview]
* https://docs.hazelcast.com/hazelcast/latest/data-structures/cpmap[CPMap Documentation]
